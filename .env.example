# 博客园同步（assemble-publish）示例环境变量
# 复制为 .env 并按需填写；或在 Zeabur 里配置同名环境变量

# ===== 主仓库拉取（run_sync.sh 用）=====
# 主仓库地址（建议用带 PAT 的 HTTPS；私有仓库必须）
SYNC_REPO_URL=
SYNC_REPO_BRANCH=main
# 默认 50；设为 0 表示完整克隆
SYNC_REPO_DEPTH=50
# 主仓库本地缓存目录；如果 Zeabur 支持挂载持久化目录，建议设为类似 /data/assemble-main-repo
# 默认 /tmp/assemble-main-repo
WORKDIR=
# 默认 true：运行时 pip install python-dotenv
INSTALL_DEPS=true

# ===== 博客园（MetaWeblog）认证 =====
CNBLOGS_RPC_URL=
CNBLOGS_USERNAME=
CNBLOGS_PASSWORD=
# 可选：Token（等价于 CNBLOGS_PASSWORD；兼容历史配置）
CNBLOGS_TOKEN=

# 可选：博客 ID；未设置时脚本会尝试通过 API 自动获取
CNBLOGS_BLOG_ID=

# ===== 同步行为（可选）=====
# 增量同步：基于 state.json 里的 last_synced_commit 做 git diff（默认 true）
INCREMENTAL_SYNC=true

# 是否覆盖已存在文章（默认 true）
# true：已发布文章会走 editPost 更新内容
# false：已发布文章会跳过
FORCE_OVERWRITE_EXISTING=true

# ===== 状态持久化到 Git 分支（推荐在 Zeabur 上开启）=====
# true：从 sync-state 分支读取/写回 .cnblogs_sync_record.json + state.json
SYNC_STATE_GIT=true
SYNC_STATE_BRANCH=sync-state
SYNC_STATE_REMOTE=origin

# 可选：为 push 提供带 PAT 的 remote（Zeabur 上通常需要）
# 例：https://<PAT>@github.com/<owner>/<repo>.git
SYNC_STATE_REMOTE_URL=

# ===== 路径配置（可选；一般不需要改）=====
# 指定仓库根目录（直接运行 sync_to_cnblogs.py 时可用；run_sync.sh 会自动设置）
SYNC_REPO_ROOT=

# 记录文件与增量状态文件在仓库内的相对路径
SYNC_RECORD_PATH=.cnblogs_sync/.cnblogs_sync_record.json
SYNC_STATE_PATH=.cnblogs_sync/state.json

# ===== 内容处理（可选）=====
KNOWLEDGE_BASE_URL=https://assemble.gitbook.io/assemble
CNBLOGS_SEARCH_URL=https://zzk.cnblogs.com/my/s/blogpost-p

# ===== Git 提交身份（可选；用于 SYNC_STATE_GIT=true 时的 commit）=====
GIT_USER_NAME=cnblogs-sync-bot
GIT_USER_EMAIL=cnblogs-sync-bot@users.noreply.github.com
